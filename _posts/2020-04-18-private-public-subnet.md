---
layout: post
section-type: post
title: "PUBLIC PRIVATE SUBNET"
category: AWS
tags: [ 'AWS' ]
comments: true
---
제 블로그의 모든 글은 IMHO로 쓴 것입니다.
서로에 대한 존중을 담은 덧글을 남겨 소통을 하신다면 더 좋은 글로 발전이 될 수 있을 것 같습니다.
존중이 담기지 않은 덧글은 언제든 삭제될 수 있습니다.
감사합니다:)
---
대상 네트워크를 클라이언트 VPN 엔드포인트에 연결하려면 어떻게 해야 하는 법은?

클라이언트가 AWS 클라이언트 VPN 엔드포인트와의 VPN 세션을 설정하여 네트워크 리소스에 액세스할 수 있도록 해야 합니다. 대상 네트워크를 클라이언트 VPN 엔드포인트에 연결하려면 어떻게 해야 합니까?
간략한 설명
대상 네트워크는 VPC의 서브넷입니다. 서브넷을 클라이언트 VPN 엔드포인트에 연결하면 클라이언트가 VPN 세션을 설정할 수 있습니다. 여러 서브넷을 클라이언트 VPN 엔드포인트에 연결할 수 있습니다. 모든 서브넷은 동일한 VPC에서 가져와야 합니다.

대상 네트워크를 클라이언트 VPN 엔드포인트에 연결하기 전에 다음을 고려하십시오.

클라이언트는 대상 네트워크가 클라이언트 VPN 엔드포인트와 연결된 후에만 클라이언트 VPN 엔드포인트에 대한 VPN 연결을 설정할 수 있습니다.
단일 대상 네트워크를 연결하면 클라이언트 VPN 엔드포인트와의 VPN 세션을 설정할 수 있습니다. 하지만 모범 사례로서, 서로 다른 두 가용 영역에서 2개 이상의 대상 네트워크를 연결하여 이중화를 구현하는 것이 좋습니다.
대상으로 연결하는 서브넷에는 비트마스크가 최소 /27(예: 192.168.0.0/27)인 CIDR 블록이 있어야 합니다. 또한 사용 가능한 IP 주소가 서브넷에 8개 이상 있어야 합니다.
서브넷을 클라이언트 VPN 엔드포인트에 연결하면 연결된 서브넷이 프로비저닝되어 있는 VPC의 로컬 경로가 클라이언트 VPN 엔드포인트의 라우팅 테이블에 자동으로 추가됩니다.
​해결 방법
대상 네트워크를 클라이언트 VPN 엔드포인트에 연결

Amazon VPC 콘솔을 엽니다.
탐색 창에서 [Client VPN Endpoints(클라이언트 VPN 엔드포인트)]를 선택합니다.
대상 네트워크에 연결할 클라이언트 VPN 엔드포인트를 선택합니다.
[Associations(연결)]를 선택한 후 [Associate(연결)]를 선택합니다.
[VPC]에서 서브넷이 프로비저닝되어 있는 VPC를 선택합니다.
[Subnet to associate(연결할 서브넷)]에서 클라이언트 VPN 엔드포인트에 연결할 서브넷을 선택합니다.
[Associate(연결)]를 선택합니다.
대상 네트워크에 보안 그룹 적용

첫 번째 대상 네트워크를 클라이언트 VPN 엔드포인트에 연결하면 VPC의 기본 보안 그룹이 연결된 서브넷에 적용됩니다. 첫 번째 대상 네트워크를 연결한 후, 클라이언트 VPN 엔드포인트에 적용되는 보안 그룹을 변경할 수 있습니다. 필요한 보안 그룹 규칙은 구성하려는 VPN 액세스 유형에 따라 다릅니다.

Amazon VPC 콘솔을 엽니다.
탐색 창에서 [Client VPN Endpoints(클라이언트 VPN 엔드포인트)]를 선택합니다.
보안 그룹을 적용할 클라이언트 VPN 엔드포인트를 선택합니다.
[Security Groups(보안 그룹)]를 선택하고 현재 보안 그룹을 선택한 다음 [Apply Security Groups(보안 그룹 적용)]를 선택합니다.
목록에서 새 보안 그룹을 선택한 다음 [Apply Security Groups(보안 그룹 적용)]를 선택합니다.
(선택 사항) 클라이언트 VPN 엔드포인트에서 대상 네트워크 연결 해제

클라이언트 VPN 엔드포인트에 연결된 클라이언트가 없는지 확인한 후 원치 않는 대상 네트워크의 연결을 해제할 수 있습니다. 클라이언트에서 클라이언트 VPN 엔드포인트에 대한 연결을 설정하려면 하나 이상의 대상 네트워크가 필요합니다. 모든 대상 네트워크의 연결을 해제하면 클라이언트 VPN 엔드포인트가 대상 네트워크 연결 시에 자동으로 생성된 경로를 제거합니다.

Amazon VPC 콘솔을 엽니다.
탐색 창에서 [Client VPN Endpoints(클라이언트 VPN 엔드포인트)]를 선택합니다.
대상 네트워크가 연결된 클라이언트 VPN 엔드포인트를 선택합니다.
[Associations(연결)]를 선택합니다.
연결 해제할 대상 네트워크를 선택합니다.
[Disassociate(연결 해제)]를 선택한 후 Yes, Disassociate(예, 연결을 해제합니다.)]를 선택합니다.
---
참고 : https://aws.amazon.com/ko/premiumsupport/knowledge-center/client-vpn-associate-target-network/
